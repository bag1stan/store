import{$ as fn,A as sn,Aa as we,B as bt,Ba as Pn,C as P,Ca as Rt,Da as ct,E as cn,F as un,Fa as En,G as ln,H as lt,I as q,Ia as ke,Ja as Oe,K as dn,Ka as Ft,L as nt,La as In,Ua as De,Wa as Mn,X as j,Xa as zn,Ya as An,Z as pn,_ as mn,aa as hn,ab as Nn,ba as gn,ca as vn,d as Nt,da as bn,e as Gi,ea as _n,f as Ke,fa as ye,fb as Rn,g as Xe,gb as Pe,h as ve,ha as yn,hb as Fn,i as Qi,ia as xe,j as Zi,ja as xn,k as Yi,ka as ti,l as qi,la as Tn,m as Ki,ma as ei,mb as Ee,n as Xi,na as Cn,nb as Bn,o as Ji,oa as Sn,ob as Ln,p as be,pb as Vn,q as tn,r as en,ra as wn,rb as jn,s as nn,sa as kn,sb as Hn,t as rn,ta as On,u as Je,ua as Te,v as on,va as Dn,wa as Ce,xa as Se,y as _e,z as an}from"./chunk-QBXTGNXP.js";import{$a as $t,$b as ji,A as oe,Aa as ce,Ab as Bi,B as Ei,Ba as ue,Bb as Z,Cb as Y,D as Ht,Da as at,Db as zt,Eb as y,F as Ii,Fb as Ze,Gb as D,Hb as me,Ib as fe,J as Mi,Jb as he,Kb as z,L as ae,Lb as gt,Ma as p,Mb as Ye,Nb as O,Ob as A,Pa as Mt,Pb as vt,Qb as Wt,Sa as Fi,Ua as S,Ub as Li,Wb as it,X as Et,Xa as w,Xb as Vi,Y as zi,Yb as At,Za as k,_ as ut,_a as Tt,ab as et,ca as xt,cb as C,cc as ge,d as re,da as mt,dc as st,ec as Hi,fc as $i,g as ki,ga as ft,gc as Ui,hb as K,hc as qe,i as Oi,ib as b,ic as Gt,ja as l,jb as Ut,kb as U,l as Di,lb as le,lc as Wi,ma as Qe,mb as g,nb as f,ob as W,pb as R,qb as F,rb as de,sa as It,sb as Q,t as ot,ta as I,tb as pe,ua as M,v as Ge,va as Ai,vb as E,wa as se,wb as _,xa as Ni,xb as ht,ya as Ri,yb as J,z as Pi,zb as X}from"./chunk-HPCAUEFZ.js";import{a as L,b as tt,c as We,d as Pt}from"./chunk-4CLCTAJ7.js";function Br(t){let r=String(t),[e,i]=r.split("e-"),n=r;if(i){let[,o=""]=e?.split(".")??[],a=Number(i)+(o?.length||0);n=t.toFixed(a)}return n}function Lr(t,r){let[,e=""]=Br(t).split(".");return ln(r)?e.slice(0,Math.max(0,r)):e}function Ie(t,r={}){let{precision:e,decimalSeparator:i,thousandSeparator:n,decimalMode:o,rounding:a}=L(tt(L({},Ce),{decimalMode:"always",precision:1/0}),r),s=Number.isFinite(e)?nn({value:t,precision:e,method:a}):t,c=String(Math.floor(Math.abs(s))),u=Lr(s,e),d=Number(u)>0;if(Number.isFinite(e))if(o==="always"||d&&o==="pad"){let T=Math.max(e-u.length,0),v="0".repeat(T);u=`${u}${v}`}else u=u.replace(/0*$/,"");let m=c.length%3,x=(t<0?_e:"")+c.charAt(0);for(let T=1;T<c.length;T++)T%3===m&&c.length>3&&(x+=n),x+=c.charAt(T);return u?x+i+u:x}function $n({ownerDocument:t}){let r=t?.defaultView,e=r.safari!==void 0&&r.safari?.pushNotification?.toString()==="[object SafariRemoteNotification]",i=!!r.navigator?.vendor?.includes("Apple")&&!r.navigator?.userAgent?.includes("CriOS")&&!r.navigator?.userAgent?.includes("FxiOS");return e||i}var Un=(()=>{class t{constructor(){this.numberFormat=l(Se)}transform(e,i={}){return this.numberFormat.pipe(ot(n=>Ie(e,L(tt(L({},n),{precision:Number.isNaN(n.precision)?1/0:n.precision}),i))))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=Tt({name:"tuiFormatNumber",type:t,pure:!0})}}return t})();var Ss=P();var ws=P();var Me=P();function Wn(t){return lt(Me,t)}var Vr=["*"];function jr(t,r){if(t&1&&(R(0),y(1),F()),t&2){let e=r.polymorpheusOutlet;p(),D(" ",e," ")}}function Hr(t,r){if(t&1&&(g(0,"div",6),C(1,jr,2,1,"ng-container",7),f()),t&2){let e=_(2);U("t-text_horizontal",e.isHorizontal),p(),b("polymorpheusOutlet",e.textContent)}}function $r(t,r){if(t&1&&(g(0,"div",2),Ai(),g(1,"svg",3),W(2,"circle",4),f(),C(3,Hr,2,3,"div",5),f()),t&2){let e=_();U("t-loader_horizontal",e.isHorizontal)("t-loader_inherit-color",e.inheritColor),p(3),b("ngIf",e.textContent)}}var Ur={size:"m",inheritColor:!1,overlay:!1},Wr=P(Ur);var Gn=(()=>{class t{constructor(){this.isIOS=l(De),this.options=l(Wr),this.isApple=$n(j())||this.isIOS,this.size=this.options.size,this.inheritColor=this.options.inheritColor,this.overlay=this.options.overlay,this.loading=!0}get isHorizontal(){return!En(this.size)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["tui-loader"]],hostVars:3,hostBindings:function(i,n){i&2&&(K("data-size",n.size),U("_loading",n.loading))},inputs:{size:"size",inheritColor:"inheritColor",overlay:"overlay",textContent:"textContent",loading:[0,"showLoader","loading"]},ngContentSelectors:Vr,decls:3,vars:7,consts:[[1,"t-content",3,"disabled"],["class","t-loader",3,"t-loader_horizontal","t-loader_inherit-color",4,"ngIf"],[1,"t-loader"],["automation-id","tui-loader__loader","focusable","false","height","100%","width","100%",1,"t-icon"],["cx","50%","cy","50%",1,"t-circle"],["automation-id","tui-loader__text","class","t-text",3,"t-text_horizontal",4,"ngIf"],["automation-id","tui-loader__text",1,"t-text"],[4,"polymorpheusOutlet"]],template:function(i,n){i&1&&(ht(),g(0,"fieldset",0),J(1),f(),C(2,$r,4,5,"div",1)),i&2&&(U("t-content_has-overlay",n.overlay&&n.loading)("t-content_loading",n.loading),b("disabled",n.loading&&!n.isApple),K("inert",n.loading||null),p(2),b("ngIf",n.loading))},dependencies:[st,Ft],styles:["[_nghost-%COMP%]{position:relative;display:flex;min-inline-size:1.5rem;--tui-thickness: calc(var(--t-diameter) / 12)}._loading[_nghost-%COMP%]{overflow:hidden}[data-size=xs][_nghost-%COMP%]{--t-diameter: .75em}[data-size=s][_nghost-%COMP%]{--t-diameter: 1em}[data-size=m][_nghost-%COMP%]{--t-diameter: 1.5em}[data-size=l][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 5em}.t-content[_ngcontent-%COMP%]{z-index:0;min-inline-size:100%;block-size:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-inline-size:100%;min-block-size:var(--t-diameter);flex-shrink:0;align-self:center;color:var(--tui-text-primary);stroke:var(--tui-background-accent-1);animation:tuiFadeIn var(--tui-duration);font-size:1rem}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--tui-font-text-s);margin-top:1rem;color:inherit;max-inline-size:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(-90deg)}50%{transform:rotate(-90deg) rotate(1turn)}to{transform:rotate(-90deg) rotate(3turn)}}.t-icon[_ngcontent-%COMP%]{display:block;inline-size:var(--t-diameter);block-size:var(--t-diameter);margin:.25rem calc(var(--t-diameter) / -2);border-radius:100%;overflow:hidden;animation:_ngcontent-%COMP%_tuiLoaderRotate 4s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}50%{stroke-dashoffset:calc(.05 * calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness))))}to{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}}.t-circle[_ngcontent-%COMP%]{r:calc(var(--t-diameter) / 2 - var(--tui-thickness));stroke-dasharray:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)));fill:none;stroke:inherit;stroke-width:max(var(--tui-thickness),1.5px);animation:_ngcontent-%COMP%_tuiLoaderDashOffset 4s linear infinite}"],changeDetection:0})}}return t})();var ii=(()=>{class t{constructor(){this.resolver=Dn(),this.backgroundSrc=S(null),this.iconSrc=S(this.resolve(l(On,{self:!0,optional:!0})||l(Te,{self:!0,optional:!0})))}set icon(e){this.iconSrc.set(this.resolve(e))}set background(e){this.backgroundSrc.set(this.resolve(e))}resolve(e){return e?`url(${this.resolver(e)})`:null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(i,n){i&2&&Ut("--t-icon",n.iconSrc()||"url()")("--t-icon-bg",n.backgroundSrc())},inputs:{icon:"icon",background:"background"},decls:0,vars:0,template:function(i,n){},styles:[`tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}
`],encapsulation:2,changeDetection:0})}}return t})();var Gr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-label"],decls:0,vars:0,template:function(i,n){},styles:[`[tuiLabel]{display:flex;gap:.25rem;flex-direction:column;font:var(--tui-font-text-s);color:var(--tui-text-primary)}[tuiLabel]:not([data-orientation=vertical]){flex-direction:row;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-m)}[tuiLabel]:has(tui-textfield),[tuiLabel]:has(tui-primitive-textfield),[tuiLabel]:has(tui-textarea){flex-direction:column!important;inline-size:auto!important;font:var(--tui-font-text-s)!important}[tuiLabel] input[type=checkbox],[tuiLabel] input[type=radio]{margin-inline-end:.5rem}[tuiLabel] input[type=checkbox][data-size=s],[tuiLabel] input[type=radio][data-size=s]{margin-inline-end:.25rem;margin-top:.125rem}[tuiLabel] small{font:var(--tui-font-text-s)}[tuiLabel] [tuiTitle]{margin-top:.125rem}[tuiLabel] [tuiSubtitle]{color:var(--tui-text-secondary)}
`],encapsulation:2,changeDetection:0})}}return t})(),Bt=(()=>{class t{constructor(){this.el=j(),this.nothing=nt(Gr),this.parent=l(xt(()=>Me),{optional:!0})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["label","tuiLabel",""]],contentQueries:function(i,n,o){if(i&1&&X(o,Me,5),i&2){let a;Z(a=Y())&&(n.textfield=a.first)}},hostVars:2,hostBindings:function(i,n){i&2&&K("for",n.el.htmlFor||(n.parent==null?null:n.parent.id))("data-orientation",n.textfield?"vertical":"horizontal")}})}}return t})();var Qn=(()=>{class t{constructor(){this.destroyRef=l(Ri),this.zone=l(ue),this.el=j(),this.tuiNativeValidator="Invalid"}validate(e){return this.control=e,oe(0).pipe(Cn(this.zone),Tn(this.destroyRef)).subscribe(()=>this.handleValidation()),null}handleValidation(){this.el.setCustomValidity?.(this.control?.touched&&this.control?.invalid?this.tuiNativeValidator:"")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["","tuiNativeValidator",""]],hostBindings:function(i,n){i&1&&E("focusout",function(){return n.handleValidation()})},inputs:{tuiNativeValidator:"tuiNativeValidator"},features:[z([lt(Gi,t,!0)])]})}}return t})();var Zr=typeof ResizeObserver<"u"?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Yr="content-box",ni=Yr,qr=new ft("[WA_RESIZE_OPTION_BOX]",{providedIn:"root",factory:()=>ni}),Zn=qr,Qt=(()=>{class t extends re{constructor(){let e=l(at).nativeElement,i=l(Zn);super(n=>{let o=new Zr(a=>n.next(a));return o.observe(e,{box:i}),()=>{o.disconnect()}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Yn=(()=>{class t{waResizeObserver=l(Qt);box=ni;static \u0275fac=function(i){return new(i||t)};static \u0275dir=k({type:t,selectors:[["","waResizeObserver",""]],inputs:{waResizeBox:[0,"box","waResizeBox"]},outputs:{waResizeObserver:"waResizeObserver"},features:[z([Qt,{provide:Zn,useFactory:()=>l(at).nativeElement.getAttribute("waResizeBox")||ni}])]})}return t})();var gc=new ft("[WA_RESIZE_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!l(ye).ResizeObserver});var Jr=["vcr"],to=[[["input"]],[["select"]],[["label"]],"*",[["tui-icon"]]],eo=["input","select","label","*","tui-icon"],io=t=>({$implicit:t});function no(t,r){if(t&1){let e=Q();g(0,"button",6),E("click",function(){I(e);let n=_();return M(n.directive==null?null:n.directive.setValue(null))})("pointerdown.silent.prevent",function(){I(e);let n=_();return M(n.input==null||n.input.nativeElement==null?null:n.input.nativeElement.focus())}),y(1),f()}if(t&2){let e=_();b("iconStart",e.icons.close),p(),D(" ",e.clear()," ")}}function ro(t,r){if(t&1&&(R(0),y(1),F()),t&2){let e=r.polymorpheusOutlet;p(),D(" ",e," ")}}function oo(t,r){if(t&1&&W(0,"input",7),t&2){let e=_();b("value",e.computedFiller())}}var ri={appearance:"textfield",size:"l",cleaner:!0},Lt=P({appearance:S(ri.appearance),size:S(ri.size),cleaner:S(ri.cleaner)});var ao=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["ng-template","tuiTextfieldDropdown",""]]})}}return t})(),so=(()=>{class t{constructor(){this.dropdown=Bn(null)}set template(e){this.dropdown.set(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,contentQueries:function(i,n,o){if(i&1&&X(o,ao,5,Mt),i&2){let a;Z(a=Y())&&(n.template=a.first)}}})}}return t})(),_t=(()=>{class t{constructor(){this.filler=S(""),this.autoId=zn(),this.open=Ln(),this.focusedIn=In(j()),this.icons=l(wn),this.clear=bt(l(kn)),this.computedFiller=it(()=>{let e=this.directive?.value()||"",i=e+this.filler().slice(e.length);return i.length>e.length?i:""}),this.showFiller=it(()=>this.focused()&&!!this.computedFiller()&&(!!this.directive?.value()||!this.input?.nativeElement.placeholder)),this.stringify=String,this.focused=it(()=>this.open()||this.focusedIn()),this.options=l(Lt),this.el=j()}set fillerSetter(e){this.filler.set(e)}get id(){return this.input?.nativeElement.id||this.autoId}get size(){return this.options.size()}handleOption(e){this.directive?.setValue(e),this.open.set(!1)}get hasLabel(){return!!this.label?.nativeElement?.childNodes.length}onResize({contentRect:e}){this.el.style.setProperty("--t-side",dn(e.width))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["tui-textfield"]],contentQueries:function(i,n,o){if(i&1&&(X(o,Bt,5,at),X(o,Xe,5),X(o,Zt,7),X(o,Zt,7,at)),i&2){let a;Z(a=Y())&&(n.label=a.first),Z(a=Y())&&(n.control=a.first),Z(a=Y())&&(n.directive=a.first),Z(a=Y())&&(n.input=a.first)}},viewQuery:function(i,n){if(i&1&&Bi(Jr,7,Fi),i&2){let o;Z(o=Y())&&(n.vcr=o.first)}},hostVars:7,hostBindings:function(i,n){i&2&&(K("data-size",n.options.size()),U("_with-label",n.hasLabel)("_with-template",n.content)("_disabled",n.input==null?null:n.input.nativeElement.disabled))},inputs:{stringify:"stringify",content:"content",fillerSetter:[0,"filler","fillerSetter"]},features:[z([Rt({size:"xs",appearance:"icon"}),Wn(t)]),et([Vn,Ee,jn,so,we])],ngContentSelectors:eo,decls:12,vars:6,consts:[["vcr",""],[1,"t-content",3,"mousedown.prevent","waResizeObserver"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button","class","t-clear",3,"iconStart","click","pointerdown.silent.prevent",4,"ngIf"],[1,"t-template"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["aria-hidden","true","disabled","","class","t-filler",3,"value",4,"ngIf"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",1,"t-clear",3,"click","pointerdown.silent.prevent","iconStart"],["aria-hidden","true","disabled","",1,"t-filler",3,"value"]],template:function(i,n){if(i&1){let o=Q();ht(to),J(0),J(1,1),J(2,2),g(3,"span",1),E("mousedown.prevent",function(){return I(o),M(n.input==null||n.input.nativeElement==null?null:n.input.nativeElement.focus())})("waResizeObserver",function(s){return I(o),M(s[0]&&n.onResize(s[0]))}),J(4,3),C(5,no,2,2,"button",2),de(6,null,0),J(8,4),f(),g(9,"span",3),C(10,ro,2,1,"ng-container",4),f(),C(11,oo,1,1,"input",5)}i&2&&(p(5),b("ngIf",n.options.cleaner()),p(5),b("polymorpheusOutlet",n.content)("polymorpheusOutletContext",Ye(4,io,n.control==null?null:n.control.value)),p(),b("ngIf",n.showFiller()))},dependencies:[st,Ft,ct,Yn],styles:[`tui-textfield{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--t-height: var(--tui-height-l);--t-padding: var(--tui-padding-l);position:relative;display:flex;align-items:center;pointer-events:none;cursor:pointer;block-size:var(--t-height);color:var(--tui-text-tertiary);padding:0 var(--t-padding);border-radius:var(--tui-radius-l);font:var(--tui-font-text-m);box-sizing:border-box;gap:.25rem}tui-textfield[style*="--t-icon-start:"]{--t-left: 2.25rem}tui-textfield[style*="--t-icon-end:"]{--t-right: 2.25rem}tui-textfield input,tui-textfield select{font:var(--tui-font-text-m)}tui-textfield[data-size=s]{--t-height: var(--tui-height-s);--t-padding: var(--tui-padding-s);border-radius:var(--tui-radius-m);gap:0;font:var(--tui-font-text-s)}tui-textfield[data-size=s][style*="--t-icon-start:"]{--t-left: 1.25rem}tui-textfield[data-size=s][style*="--t-icon-end:"]{--t-right: 1.25rem}tui-textfield[data-size=s]:before{margin:0 .5rem 0 -.125rem;font-size:1rem}tui-textfield[data-size=s]:after{margin:0 -.175rem 0 .575rem;font-size:1rem}tui-textfield[data-size=s] input,tui-textfield[data-size=s] select{font:var(--tui-font-text-s)}tui-textfield[data-size=s] .t-content{margin-inline-end:-.325rem}tui-textfield[data-size=m]{--t-height: var(--tui-height-m);--t-padding: var(--tui-padding-m);border-radius:var(--tui-radius-m);font:var(--tui-font-text-s)}tui-textfield[data-size=m][style*="--t-icon-start:"]{--t-left: 1.75rem}tui-textfield[data-size=m][style*="--t-icon-end:"]{--t-right: 1.75rem}tui-textfield[data-size=m]:before{margin:0 .125rem 0 -.125rem}tui-textfield[data-size=m]:after{margin:0 -.125rem 0 .25rem}tui-textfield[data-size=m] input,tui-textfield[data-size=m] select{font:var(--tui-font-text-s)}tui-textfield[data-size=m] .t-content{margin-inline-end:-.125rem}tui-textfield:hover{color:var(--tui-text-secondary)}tui-textfield:hover:has(input:read-only),tui-textfield:hover:has(select[data-mode~=readonly]){color:var(--tui-text-tertiary)}tui-textfield:before{z-index:1;margin-inline-end:.5rem}tui-textfield:has(:disabled:not(.t-filler,button,option)):before,tui-textfield:has(:disabled:not(.t-filler,button,option)):after,tui-textfield:has(:disabled:not(.t-filler,button,option)) .t-template{opacity:var(--tui-disabled-opacity)}tui-textfield._disabled:before,tui-textfield._disabled:after,tui-textfield._disabled .t-template{opacity:var(--tui-disabled-opacity)}tui-textfield:has(label:not(:empty)) .t-template,tui-textfield:has(label:not(:empty)) input:defined,tui-textfield:has(label:not(:empty)) select:defined{padding-top:calc(var(--t-height) / 3)}tui-textfield:has(label:not(:empty)) .t-template::placeholder,tui-textfield:has(label:not(:empty)) input:defined::placeholder,tui-textfield:has(label:not(:empty)) select:defined::placeholder,tui-textfield:has(label:not(:empty)) .t-template._empty,tui-textfield:has(label:not(:empty)) input:defined._empty,tui-textfield:has(label:not(:empty)) select:defined._empty{color:transparent}tui-textfield._with-label .t-template,tui-textfield._with-label input:defined,tui-textfield._with-label select:defined{padding-top:calc(var(--t-height) / 3)}tui-textfield._with-label .t-template::placeholder,tui-textfield._with-label input:defined::placeholder,tui-textfield._with-label select:defined::placeholder,tui-textfield._with-label .t-template._empty,tui-textfield._with-label input:defined._empty,tui-textfield._with-label select:defined._empty{color:transparent}tui-textfield .t-template,tui-textfield input:defined,tui-textfield select:defined{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;-webkit-appearance:none;appearance:none;box-sizing:border-box;border-radius:inherit;padding:inherit;border:none;text-indent:var(--t-left, 0);padding-inline-end:calc(var(--t-right, var(--t-0, 0rem)) + var(--t-side) + var(--t-padding))}tui-textfield .t-template{display:flex;align-items:center;color:var(--tui-text-primary)}tui-textfield._with-template input,tui-textfield._with-template select{color:transparent!important}tui-textfield input:defined,tui-textfield select:defined{pointer-events:auto;background:transparent}tui-textfield input:defined:read-only~.t-filler,tui-textfield select:defined:read-only~.t-filler{display:none}tui-textfield input:defined:disabled~label,tui-textfield select:defined:disabled~label,tui-textfield input:defined:disabled~.t-content,tui-textfield select:defined:disabled~.t-content{opacity:var(--tui-disabled-opacity)}tui-textfield input:defined:disabled~label>tui-icon,tui-textfield select:defined:disabled~label>tui-icon,tui-textfield input:defined:disabled~.t-content>tui-icon,tui-textfield select:defined:disabled~.t-content>tui-icon{display:none}tui-textfield input:defined:-webkit-autofill~label,tui-textfield select:defined:-webkit-autofill~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown)~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown)~label{font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield input:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label{color:var(--tui-text-negative)}tui-textfield input:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield input:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear{display:flex}tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]._empty,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]~label,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}@supports (-webkit-touch-callout: none){tui-textfield input:defined._ios-fix,tui-textfield select:defined._ios-fix{position:fixed;left:1000rem}}tui-textfield label:not([data-orientation=vertical]){transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:block;flex:1;font-size:inherit}tui-textfield label:defined,tui-textfield input:defined::placeholder,tui-textfield select:defined._empty{color:var(--tui-text-secondary)}tui-textfield select:not([data-mode~=readonly]){cursor:pointer}tui-textfield button,tui-textfield a{pointer-events:auto}tui-textfield .t-content{display:flex;align-items:center;gap:inherit;margin-inline-start:auto;isolation:isolate;border-radius:inherit}tui-textfield .t-content>tui-icon{pointer-events:auto}tui-textfield .t-clear{display:none;pointer-events:auto}tui-textfield .t-filler:defined{pointer-events:none;background:none;color:var(--tui-text-tertiary);opacity:1}tui-textfield [tuiFluidTypography]{font-weight:700}
`],encapsulation:2,changeDetection:0})}}return t})(),co=(()=>{class t{constructor(){this.focused=S(null),this.control=l(Xe,{optional:!0}),this.a=hn(l(Lt).appearance),this.s=gn(null),this.m=bn(this.mode),this.f=vn(it(()=>this.focused()??this.textfield.focused())),this.el=j(),this.textfield=l(_t),this.readOnly=!1,this.invalid=null,this.value=bt(Ei(Pi(this.el,"input"),oe(0).pipe(Et(()=>yn(this.control)))).pipe(ot(()=>this.el.value)),{initialValue:this.el.value})}set focusedSetter(e){this.focused.set(e)}set stateSetter(e){this.s.set(e)}get mode(){return this.readOnly?"readonly":this.invalid===!1?"valid":this.invalid?"invalid":null}ngOnChanges(){this.m.set(this.mode)}setValue(e){this.el.focus(),this.el.select(),e==null?this.el.ownerDocument.execCommand("delete"):this.el.ownerDocument.execCommand("insertText",!1,this.textfield.stringify(e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,inputs:{readOnly:"readOnly",invalid:"invalid",focusedSetter:[0,"focused","focusedSetter"],stateSetter:[0,"state","stateSetter"]},standalone:!1,features:[It]})}}return t})(),Zt=(()=>{class t extends co{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})()}static{this.\u0275dir=k({type:t,selectors:[["input","tuiTextfield","",3,"tuiInputCard","",3,"tuiInputExpire","",3,"tuiInputCVC",""]],hostVars:4,hostBindings:function(i,n){i&1&&E("input",function(){return 0})("focusin",function(){return 0})("focusout",function(){return 0}),i&2&&(pe("id",n.textfield.id)("readOnly",n.readOnly),U("_empty",n.el.value===""))},features:[et([Qn,fn]),$t]})}}return t})(),qn=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,features:[et([{directive:Zt,inputs:["invalid","invalid","focused","focused","readOnly","readOnly","state","state"]}])]})}}return t})();var Kn=(()=>{class t{constructor(){this.ref=l(_t).vcr?.createEmbeddedView(l(Mt))}ngDoCheck(){this.ref?.detectChanges()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["ng-template","tuiTextfieldContent",""]]})}}return t})();var ze=class t{http=l(Wi);baseUrl="https://x8ki-letl-twmt.n7.xano.io/api:V5WjvOLu";getAll(){return this.http.get(`${this.baseUrl}/product_price`)}addOne(r){return this.http.post(`${this.baseUrl}/product_price`,r)}updateOne(r){return console.log("updateOne",r),this.http.put(`${this.baseUrl}/product_price/${r.id}`,r)}deleteOne(r){return this.http.delete(`${this.baseUrl}/product_price/${r}`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})};var lo=P("@tui.chevron-down"),po=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-chevron"],decls:0,vars:0,template:function(i,n){},styles:[`[tuiChevron][tuiIcons]:after,tui-icon[tuiChevron]:after{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;cursor:pointer}[tuiChevron][tuiIcons]:after{block-size:1rem}[tuiChevron][tuiIcons]._chevron-rotated:after,tui-icon[tuiChevron]._chevron-rotated:after{transform:rotate(180deg)}
`],encapsulation:2,changeDetection:0})}}return t})(),Xn=(()=>{class t{constructor(){this.el=j(),this.dropdown=l(Ee,{optional:!0}),this.nothing=nt(po),this.toggle=At(()=>this.el.classList.toggle("_chevron-rotated",this.chevron()||this.chevron()===""&&!!this.dropdown?.ref())),this.chevron=S("")}set tuiChevron(e){this.chevron.set(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["","tuiChevron",""]],hostAttrs:["tuiChevron",""],inputs:{tuiChevron:"tuiChevron"},features:[z([lt(Te,lo)])]})}}return t})();var mo=typeof IntersectionObserver<"u"?IntersectionObserver:class{root=null;rootMargin="";thresholds=[];observe(){}unobserve(){}disconnect(){}takeRecords(){return[]}},fo=new ft("[WA_INTERSECTION_ROOT]"),ho=fo,go="0px 0px 0px 0px",vo=go,oi=new ft("[WA_INTERSECTION_ROOT_MARGIN]",{providedIn:"root",factory:()=>vo}),bo=oi;var _o=0,yo=_o,ai=new ft("[WA_INTERSECTION_THRESHOLD]",{providedIn:"root",factory:()=>yo}),xo=ai;var si=(()=>{class t extends re{nativeElement=l(at).nativeElement;rootMargin=l(bo);threshold=l(xo);root=l(ho,{optional:!0})?.nativeElement??null;constructor(){super(e=>{let i=new mo(n=>{e.next(n)},{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold});return i.observe(this.nativeElement),()=>{i.disconnect()}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Cu=new ft("[WA_INTERSECTION_OBSERVER_SUPPORT]: [INTERSECTION_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!l(ye).IntersectionObserver});function Jn(t){let{anchorOffset:r=0,focusOffset:e=0}=t.ownerDocument.getSelection()||{},i=Math.min(r,e),n=Math.max(r,e);return[i,n]}function To(t,[r,e]){var i,n,o,a;let s=t.ownerDocument,c=s.createRange();c.setStart(t.firstChild||t,Math.min(r,(n=(i=t.textContent)===null||i===void 0?void 0:i.length)!==null&&n!==void 0?n:0)),c.setEnd(t.lastChild||t,Math.min(e,(a=(o=t.textContent)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0));let u=s.getSelection();u&&(u.removeAllRanges(),u.addRange(c))}var ui=class{constructor(r){this.element=r,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(r){this.element.innerHTML=r.replace(/\n$/,`

`)}get selectionStart(){return Jn(this.element)[0]}get selectionEnd(){return Jn(this.element)[1]}setSelectionRange(r,e){To(this.element,[r??0,e??0])}select(){this.setSelectionRange(0,this.value.length)}};function Co(t){let r=new ui(t);return new Proxy(t,{get(e,i){if(i in r)return r[i];let n=e[i];return typeof n=="function"?n.bind(e):n},set(e,i,n,o){return Reflect.set(i in r?r:e,i,n,o)}})}var rr=t=>t.isContentEditable?Co(t):t.querySelector("input,textarea")||t,Jt={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},li=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let r=this.past.pop();r&&this.now&&(this.future.push(this.now),this.updateElement(r,"historyUndo"))}redo(){let r=this.future.pop();r&&this.now&&(this.past.push(this.now),this.updateElement(r,"historyRedo"))}updateHistory(r){if(!this.now){this.now=r;return}let e=this.now.value!==r.value,i=this.now.selection.some((n,o)=>n!==r.selection[o]);!e&&!i||(e&&(this.past.push(this.now),this.future=[]),this.now=r)}updateElement(r,e){this.now=r,this.updateElementState(r,{inputType:e,data:null})}};function So(t,...r){return r.every(({value:e})=>e===t.value)}function di(t,...r){return r.every(({value:e,selection:i})=>e===t.value&&i[0]===t.selection[0]&&i[1]===t.selection[1])}function tr({value:t,selection:r},e,i){let[n,o]=r,a=typeof i=="function"?i({value:t,selection:r}):i;return{value:t,selection:a==="replace"?[n,Math.max(n+e.length,o)]:[n,o]}}function Fe(t){return typeof t=="string"}function er(t,r,e,i){let n="";for(let o=r.length;o<t.length;o++){let a=t[o]||"",s=i?.value[o]===a;if(!Fe(a)||a===e&&!s)return n;n+=a}return n}function or(t,r){return Array.isArray(r)?t.length===r.length&&Array.from(t).every((e,i)=>{let n=r[i]||"";return Fe(n)?e===n:e.match(n)}):r.test(t)}function wo(t,r,e){let i=null,n=null,o=Array.from(t.value).reduce((s,c,u)=>{let d=er(r,s,c,e),m=s+d,h=r[m.length]||"";return i===null&&u>=t.selection[0]&&(i=m.length),n===null&&u>=t.selection[1]&&(n=m.length),Fe(h)?m+h:c.match(h)?m+c:d.startsWith(c)?m:s},""),a=er(r,o,"",e);return{value:or(o+a,r)?o+a:o,selection:[i??o.length,n??o.length]}}function ko({value:t,selection:r},e){let[i,n]=r,o=i,a=n,s=Array.from(t).reduce((c,u,d)=>{let m=c+u;return i===d&&(o=c.length),n===d&&(a=c.length),m.match(e)?m:c},"");return{value:s,selection:[Math.min(o,s.length),Math.min(a,s.length)]}}function Ae(t,r,e=null){if(or(t.value,r))return t;let{value:i,selection:n}=Array.isArray(r)?wo(t,r,e):ko(t,r);return{selection:n,value:Array.isArray(r)?i.slice(0,r.length):i}}function ir(t,r){if(!Array.isArray(r))return t;let[e,i]=t.selection,n=[],o=Array.from(t.value).reduce((a,s,c)=>{let u=r[c]||"";return c===e&&n.push(a.length),c===i&&n.push(a.length),Fe(u)&&u===s?a:a+s},"");return n.length<2&&n.push(...new Array(2-n.length).fill(o.length)),{value:o,selection:[n[0],n[1]]}}var Kt=class{constructor(r,e){this.maskOptions=e,this.unmaskInitialState={value:"",selection:[0,0]},this.value="",this.selection=[0,0];let i=this.getMaskExpression(r),{value:n,selection:o}=Ae(r,i);this.unmaskInitialState=ir({value:n,selection:o},i),this.value=n,this.selection=o}addCharacters(r){let{value:e,selection:i,maskOptions:n}=this,o={value:e,selection:i},{selection:[a,s]}=tr(o,r,n.overwriteMode),c=this.getMaskExpression({value:e.slice(0,a)+r+e.slice(s),selection:[a+r.length,a+r.length]}),[u,d]=tr(this.unmaskInitialState,r,n.overwriteMode).selection,m=this.unmaskInitialState.value.slice(0,u)+r,h=m.length,x=Ae({value:m+this.unmaskInitialState.value.slice(d),selection:[h,h]},c,o),T=e.slice(0,a),v=Ae({value:m,selection:[h,h]},c,o);if(v.value===T||v.value.length<T.length&&ir(v,c).value===this.unmaskInitialState.value.slice(0,u)||di(this,x))throw new Error("Invalid mask value");this.value=x.value,this.selection=x.selection}deleteCharacters(){let[r,e]=this.selection;if(r===e||!e)return;let{value:i}=this,n=this.getMaskExpression({value:i.slice(0,r)+i.slice(e),selection:[r,r]}),o={value:i},[a,s]=this.unmaskInitialState.selection,c=this.unmaskInitialState.value.slice(0,a)+this.unmaskInitialState.value.slice(s),u=Ae({value:c,selection:[a,a]},n,o);this.value=u.value,this.selection=u.selection}getMaskExpression(r){let{mask:e}=this.maskOptions;return typeof e=="function"?e(r):e}},Xt=class{constructor(r){this.element=r,this.listeners=[]}listen(r,e,i){let n=e;this.element.addEventListener(r,n,i),this.listeners.push(()=>this.element.removeEventListener(r,n,i))}destroy(){this.listeners.forEach(r=>r())}},rt={CTRL:1,ALT:2,SHIFT:4,META:8},Yt={Y:89,Z:90};function qt(t,r,e){return t.ctrlKey===!!(r&rt.CTRL)&&t.altKey===!!(r&rt.ALT)&&t.shiftKey===!!(r&rt.SHIFT)&&t.metaKey===!!(r&rt.META)&&t.keyCode===e}function Oo(t){return qt(t,rt.CTRL,Yt.Y)||qt(t,rt.CTRL|rt.SHIFT,Yt.Z)||qt(t,rt.META|rt.SHIFT,Yt.Z)}function Do(t){return qt(t,rt.CTRL,Yt.Z)||qt(t,rt.META,Yt.Z)}function te(t,r){var e;let i=t.value;if(typeof r=="string")t.value=r;else{let[n,o]=r.selection;t.value=r.value,t.matches(":focus")&&((e=t.setSelectionRange)===null||e===void 0||e.call(t,n,o))}t.value!==i&&t.dispatchEvent(new Event("input",{bubbles:!0}))}function Po({value:t,selection:r},e){let[i,n]=r;if(i!==n)return[i,n];let o=e?t.slice(i).indexOf(`
`)+1||t.length:t.slice(0,n).lastIndexOf(`
`)+1;return[e?i:o,e?o:n]}function Eo({value:t,selection:r},e){let[i,n]=r;return i!==n?[i,n]:(e?[i,n+1]:[i-1,n]).map(a=>Math.min(Math.max(a,0),t.length))}var Io=/\s+$/g,Mo=/^\s+/g,nr=/\s/;function zo({value:t,selection:r},e){let[i,n]=r;if(i!==n)return[i,n];if(e){let c=t.slice(i),[u]=c.match(Mo)||[""],d=c.trimStart().search(nr);return[i,d!==-1?i+u.length+d:t.length]}let o=t.slice(0,n),[a]=o.match(Io)||[""],s=o.trimEnd().split("").reverse().findIndex(c=>nr.exec(c));return[s!==-1?n-a.length-s:0,n]}function Ne(t=[]){return(r,...e)=>t.reduce((i,n)=>Object.assign(Object.assign({},i),n(i,...e)),r)}function Ct(t,r){let e=Object.assign(Object.assign({},Jt),r),i=Ne(e.preprocessors),n=Ne(e.postprocessors),o=typeof t=="string"?{value:t,selection:[0,0]}:t,{elementState:a}=i({elementState:o,data:""},"validation"),s=new Kt(a,e),{value:c,selection:u}=n(s,o);return typeof t=="string"?c:{value:c,selection:u}}function Ao(){return t=>{let r=new Xt(t),e=!1,i,n=t.value;return r.listen("keydown",({key:o})=>{e=o==="Unidentified"}),r.listen("beforeinput",o=>{i=o,n=t.value}),r.listen("input",o=>{e&&i.defaultPrevented&&i.inputType==="deleteContentBackward"&&o.inputType==="deleteContentBackward"&&(t.value=n)},{capture:!0}),()=>r.destroy()}}var ci=" ";function No(){let t="",r=0,e=null,i=!1;return n=>{let o=new Xt(n);return o.listen("beforeinput",a=>{var s,c;let{value:u,selectionStart:d,selectionEnd:m}=n,h=e?.inputType==="insertText"&&e?.data===ci&&!u.slice(0,Number(m)).endsWith(ci);a.inputType==="insertText"&&a.data===`.${ci}`&&(e?.inputType==="deleteContentBackward"&&i?(n.value=t,(s=n.setSelectionRange)===null||s===void 0||s.call(n,r,r)):h&&((c=n.setSelectionRange)===null||c===void 0||c.call(n,d,d))),i=h,e=a,t=u,r=Number((h?r:m)===u.length?m:d)}),()=>o.destroy()}}function ar(t){return(r,e)=>{var i,n;let o=(i=r.selectionStart)!==null&&i!==void 0?i:0,a=(n=r.selectionEnd)!==null&&n!==void 0?n:0;te(r,{value:Ct(r.value,t||e),selection:[o,a]})}}var Ro=[No(),Ao()],Re=class extends li{constructor(r,e){super(),this.element=r,this.maskitoOptions=e,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Xt(this.element),this.options=Object.assign(Object.assign({},Jt),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=Ne(this.options.preprocessors),this.postprocessor=Ne(this.options.postprocessors),this.teardowns=this.options.plugins.concat(Ro).map(i=>i(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",i=>{if(Oo(i))return i.preventDefault(),this.redo();if(Do(i))return i.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",i=>{var n,o,a;let s=i.inputType.includes("Forward");switch(this.updateHistory(this.elementState),i.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:i,isForward:s,selection:Eo(this.elementState,s)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:i,isForward:s,selection:Po(this.elementState,s),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:i,isForward:s,selection:zo(this.elementState,s)});case"historyRedo":return i.preventDefault(),this.redo();case"historyUndo":return i.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(i);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(i,(a=(n=i.data)!==null&&n!==void 0?n:(o=i.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))!==null&&a!==void 0?a:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&!di(this.upcomingElementState,this.elementState)&&this.updateElementState(this.upcomingElementState),this.upcomingElementState=null},{capture:!0}),this.eventListener.listen("input",({inputType:i})=>{i!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(r=>r?.())}updateElementState({value:r,selection:e},i){let n=this.elementState.value;this.updateValue(r),this.updateSelectionRange(e),i&&n!==r&&this.dispatchInputEvent(i)}get elementState(){let{value:r,selectionStart:e,selectionEnd:i}=this.element;return{value:r,selection:[e??0,i??0]}}get maxLength(){let{maxLength:r}=this.element;return r===-1?1/0:r}updateSelectionRange([r,e]){var i;let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==r||n.selectionEnd!==e)&&((i=n.setSelectionRange)===null||i===void 0||i.call(n,r,e))}updateValue(r){(this.element.value!==r||this.element.isContentEditable)&&(this.element.value=r)}ensureValueFitsMask(){this.updateElementState(Ct(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(r={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},r),{bubbles:!0,cancelable:!1})))}handleDelete({event:r,selection:e,isForward:i}){let n={value:this.elementState.value,selection:e},{elementState:o}=this.preprocessor({elementState:n,data:""},i?"deleteForward":"deleteBackward"),a=new Kt(o,this.options);a.deleteCharacters();let s=this.postprocessor(a,n);if(So(n,o,a,s)){let[c,u]=o.selection;return r.preventDefault(),this.updateSelectionRange(i?[u,u]:[c,c])}this.upcomingElementState=s}handleInsert(r,e){let{options:i,maxLength:n,elementState:o}=this,[a,s]=o.selection,{elementState:c,data:u=e}=this.preprocessor({data:e,elementState:o},"insert"),d=new Kt(c,i);try{d.addCharacters(u)}catch{return r.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(d,o)),o.value.length>=n&&a===s&&(i.overwriteMode==="replace"&&!di(this.upcomingElementState,o)?this.dispatchInputEvent({inputType:"insertText",data:e}):this.upcomingElementState=null)}handleEnter(r){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(r,`
`)}clampState({value:r,selection:e}){let[i,n]=e,o=this.maxLength;return{value:r.slice(0,o),selection:[Math.min(i,o),Math.min(n,o)]}}};var cr={appearance:"",round:!0,size:"l"},Bo=P(cr);function ur(t){return q(Bo,t,cr)}var lr={appearance:"",size:"l"},Lo=P(lr);function dr(t){return q(Lo,t,lr)}var pr={size:"m",appearance:t=>t.checked||t.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},Vo=P(pr);function mr(t){return q(Vo,t,pr)}var fr={showIcons:!0,size:"m",icon:"@tui.check",appearance:t=>t.checked?"primary":"secondary"},jo=P(fr);function hr(t){return q(jo,t,fr)}var gr={appearance:"neutral",size:"s"},pi=P(gr);function vr(t){return q(pi,t,gr)}var Ho=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],decls:0,vars:0,template:function(i,n){},styles:[`tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:matches(a,button,select,textarea,input,label),[tuiChip]:matches(a,button,select,textarea,input,label){cursor:pointer}tui-chip:is(a,button,select,textarea,input,label),[tuiChip]:is(a,button,select,textarea,input,label){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: var(--t-0, 0rem);--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;z-index:-1;margin:0}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=negative],[tuiChip][tuiAppearance][data-appearance=negative],tui-chip[tuiAppearance][data-appearance=positive],[tuiChip][tuiAppearance][data-appearance=positive],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}
`],encapsulation:2,changeDetection:0})}}return t})(),br=(()=>{class t{constructor(){this.options=l(pi),this.nothing=nt(Ho),this.size=this.options.size}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(i,n){i&2&&K("data-size",n.size)},inputs:{size:"size"},features:[z([mn(pi),hr({size:"s"}),mr({size:"s"}),ur({size:"xs"}),Rt({size:"xs",appearance:"icon"})]),et([_n,we])]})}}return t})();var Be=(()=>{class t{constructor(){this.elementRef=l(at).nativeElement,this.ngZone=l(ue),this.maskedElement=null,this.optionsInternal=S(null),this.elementPredicateInternal=S(rr),this.initEffect=At(()=>Pt(this,null,function*(){let i=this.elementPredicateInternal(),n=this.optionsInternal(),{maskedElement:o,elementRef:a,ngZone:s}=this;if(o?.destroy(),!n)return;let c=yield i(a);this.elementPredicate!==i||this.options!==n||s.runOutsideAngular(()=>{this.maskedElement=new Re(c,n)})}));let e=l(Nt,{self:!0,optional:!0});if(e){let i=e.writeValue.bind(e);e.writeValue=n=>{let o=Vi(this.optionsInternal);i(o?Ct(String(n??""),o):n)}}}set options(e){this.optionsInternal.set(e)}set elementPredicate(e){this.elementPredicateInternal.set(e)}get options(){return this.optionsInternal()}get elementPredicate(){return this.elementPredicateInternal()}ngOnChanges(){return Pt(this,null,function*(){})}ngOnDestroy(){this.maskedElement?.destroy()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[It]})}}return t})();function ee(t,r,e){let i=Math.min(Number(e),Math.max(Number(r),Number(t)));return t instanceof Date?new Date(i):i}var Uo=[".",",","\u0431","\u044E"];var mi="\xA0",Wo="\u200B",Go="\u2013",Qo="\u2014",fi="-",Cr="\u2212",Zo="\u30FC";var Sr=[fi,Go,Qo,Zo,Cr];var nl=new RegExp(`[${mi}APM]+$`,"g"),rl=new RegExp(`${mi}[AP]M$`,"g"),Yo=[":","."];function Vt(t){return t}function qo(){}var wr=/[\\^$.*+?()[\]{}|]/g,Ko=new RegExp(wr.source);function V(t){return t&&Ko.test(t)?t.replaceAll(wr,String.raw`\$&`):t}function Xo(t,r){let e="";for(let i=0;i<t.length;i++){if(t[i]!==r[i])return e;e+=t[i]}return e}function _r(t){return t.replaceAll(/[０-９]/g,r=>String.fromCharCode(r.charCodeAt(0)-65248))}function Jo(){return({elementState:t,data:r})=>{let{value:e,selection:i}=t;return{elementState:{selection:i,value:_r(e)},data:_r(r)}}}var ol=new RegExp(`[${Yo.map(V).join("")}]$`);function ta(t){let r=new RegExp(`${V(t)}$`),e=new RegExp(t&&`(${t.split("").map(V).reduce((i,n,o,a)=>`${i}|${a.slice(0,o+1).join("")}`)})$`);return t?({value:i,selection:n},o)=>{if(!i&&!o.value.endsWith(t))return{value:i,selection:n};if(!i.match(e)&&!o.value.endsWith(t))return{selection:n,value:i+t};let a=o.value.replace(r,""),s=o.selection[1]>a.length,c=Xo(a,i);return{selection:n,value:Array.from(t).reverse().reduce((u,d,m)=>{let h=u.length-1-m,x=c[h]===d&&s;return u[h]!==d||x?u.slice(0,h+1)+d+u.slice(h+1):u},i)}}:Vt}function ea(t){return t?({value:r,selection:e},i)=>{if(r.startsWith(t)||!r&&!i.value.startsWith(t))return{value:r,selection:e};let[n,o]=e,a=Array.from(t).reduce((c,u,d)=>c[d]===u?c:c.slice(0,d)+u+c.slice(d),r),s=a.length-r.length;return{selection:[n+s,o+s],value:a}}:Vt}function hi(t,r,e){return(i,n)=>{let o=()=>r(i,n);return i.addEventListener(t,o,e),()=>i.removeEventListener(t,o,e)}}function ia(t){return(r,e)=>{let i=r.ownerDocument,n=0,o=()=>n++,a=()=>{n=Math.max(--n,0)},s=()=>{if(r.matches(":focus")){if(n)return i.addEventListener("mouseup",s,{once:!0,passive:!0});t(r,e)}};return i.addEventListener("selectionchange",s,{passive:!0}),r.addEventListener("focus",s,{passive:!0}),r.addEventListener("mousedown",o,{passive:!0}),i.addEventListener("mouseup",a,{passive:!0}),()=>{i.removeEventListener("selectionchange",s),r.removeEventListener("focus",s),r.removeEventListener("mousedown",o),i.removeEventListener("mouseup",a)}}}function kr(t){return ia(r=>{var e,i;let n=(e=r.selectionStart)!==null&&e!==void 0?e:0,o=(i=r.selectionEnd)!==null&&i!==void 0?i:0,[a,s]=t(r.value,[n,o]);(a>n||s<o)&&r.setSelectionRange(ee(n,a,s),ee(o,a,s))})}var al=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function dt(t,r){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)r.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(e[i[n]]=t[i[n]]);return e}function na(t,{prefix:r,postfix:e,decimalSeparator:i,decimalPseudoSeparators:n,minusSign:o,minusPseudoSigns:a,maximumFractionDigits:s}){var c,u,d,m,h,x,T,v,G,N;let pt=[...n,i].map(Ue=>`\\${Ue}`).join(""),yt=[...a,o].map(Ue=>`\\${Ue}`).join(""),He=r&&new RegExp(`^([${yt}])?(${r.split("").map(V).join("?")}?)`),Ot=e&&new RegExp(`${e.split("").map(V).join("?")}?$`),[,,Dt=""]=(c=t.match(He))!==null&&c!==void 0?c:[],[$e=""]=(u=t.match(Ot))!==null&&u!==void 0?u:[],Fr=t.replace(He,r&&"$1").replace(Ot,""),Ti=new RegExp(i&&s>0?`^[${pt}]`:""),Ci=new RegExp(t.endsWith(e)?"":String.raw`^\d+`),Si=new RegExp(i&&s>0?`[${pt}]$`:""),wi=new RegExp(t.startsWith(r)?"":String.raw`\d+$`);return{extractedPrefix:Dt.replace(Si,"").replace(wi,""),extractedPostfix:$e.replace(Ti,"").replace(Ci,""),cleanValue:((m=(d=wi.exec(Dt))===null||d===void 0?void 0:d[0])!==null&&m!==void 0?m:"")+((x=(h=Si.exec(Dt))===null||h===void 0?void 0:h[0])!==null&&x!==void 0?x:"")+Fr+((v=(T=Ci.exec($e))===null||T===void 0?void 0:T[0])!==null&&v!==void 0?v:"")+((N=(G=Ti.exec($e))===null||G===void 0?void 0:G[0])!==null&&N!==void 0?N:"")}}function Or({decimalPseudoSeparators:t,decimalSeparator:r,maximumFractionDigits:e,min:i,minusSign:n,minusPseudoSigns:o,postfix:a,prefix:s,thousandSeparator:c}){let u=i<0&&[n,...o].includes(s)?"":yr(s),d=String.raw`\d`,m=i<0?`[${n}${o.map(N=>`\\${N}`).join("")}]?`:"",h=c?`[${d}${V(c).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${d}]*`,x=Number.isFinite(e)?e:"",T=e>0?`([${V(r)}${t.map(V).join("")}]${d}{0,${x}})?`:"",v=yr(a),G=`(${m+u}|${u+m})`;return new RegExp(`^${G}${h}${T}${v}$`)}function yr(t){return t?`${t.split("").map(r=>`${V(r)}?`).join("")}`:""}function H(t,r){var e,i;let{extractedPrefix:n,cleanValue:o,extractedPostfix:a}=na(t,r),{decimalSeparator:s,minusSign:c,minusPseudoSigns:u,decimalPseudoSeparators:d,maximumFractionDigits:m}=r,[h="",x=""]=s?o.split(s):[o],T=[c,...u].map(N=>`\\${N}`).join(""),[,v="",G=""]=new RegExp(`^([${T}])?(.*)`).exec(h)||[];return{prefix:n,minus:v,integerPart:G,decimalPart:x,decimalSeparator:s&&m>0&&(i=(e=new RegExp(`[${[s,...d].map(V).join("")}]`,"i").exec(o))===null||e===void 0?void 0:e[0])!==null&&i!==void 0?i:"",postfix:a}}function $({minus:t="",integerPart:r="",decimalPart:e="",prefix:i="",postfix:n="",decimalSeparator:o=""},a){let s=e?a.decimalSeparator:o;return`${a.negativePattern==="minusFirst"?t+i:i+t}${r}${s}${e}${n}`}function St(t,r={}){let{decimalSeparator:e=".",minusSign:i="",minusPseudoSigns:n=Sr}=typeof r=="string"?{decimalSeparator:r}:r,o=!!new RegExp(`^\\D*[${V(i)}\\${n.join("\\")}]`).exec(t),a=V(e),s=t.replaceAll(new RegExp(`${a}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${a}]`,"g"),"").replace(e,e&&".");return s?+`${o?fi:""}${s}`:NaN}function ra(t){var r;let e=String(t),[i="",n]=e.split("e-"),o=e;if(n){let[,a]=i.split("."),s=Number(n)+((r=a?.length)!==null&&r!==void 0?r:0);o=t.toFixed(s)}return o}function oa({decimalSeparator:t,thousandSeparator:r,decimalPseudoSeparators:e=Uo}){return e.filter(i=>i!==r&&i!==t)}function aa(t){return({elementState:r,data:e})=>{let{value:i}=r,n=H(e,t),{prefix:o,postfix:a}=n,s=dt(n,["prefix","postfix"]);return{elementState:r,data:$(Object.assign(Object.assign({},s),{prefix:i.startsWith(o)?"":o,postfix:i.endsWith(a)?"":a}),t)}}}function sa(t){let{minimumFractionDigits:r}=t;return r?({value:e,selection:i})=>{if(Number.isNaN(St(e,t)))return{value:e,selection:i};let n=H(e,t),{decimalPart:o}=n,a=dt(n,["decimalPart"]);return{value:$(Object.assign(Object.assign({},a),{decimalPart:o.padEnd(r,"0")}),t),selection:i}}:Vt}function ca(t){return({value:r,selection:e})=>{let[i]=e,{prefix:n,minus:o,integerPart:a,decimalSeparator:s,decimalPart:c,postfix:u}=H(r,t),d=!a&&!c&&s;return!a&&!Number(c)&&i===(o+n).length||d?{selection:e,value:$({prefix:n,minus:o,postfix:u},t)}:{value:r,selection:e}}}function ua(t){let r=!0,e=Or(Object.assign(Object.assign({},t),{prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER}));return({elementState:i,data:n})=>{if(!r)return{elementState:i,data:n};r=!1;let{value:o,selection:a}=i,[s,c]=a,u=H(o,t),{prefix:d,postfix:m}=u,h=dt(u,["prefix","postfix"]),x=$(h,t),T=Ct({selection:[Math.max(s-d.length,0),Math.max(c-d.length,0)],value:x},{mask:e}),v=x.slice(0,Math.max(c-d.length,0)).length-T.value.slice(0,T.selection[1]).length;return{elementState:{selection:[Math.max(s-v,0),Math.max(c-v,0)],value:$(Object.assign(Object.assign({},H(T.value,t)),{prefix:d,postfix:m}),t)},data:n}}}function la(t){return({elementState:r},e)=>{let{value:i,selection:n}=r,[o,a]=n,{prefix:s,minusSign:c,negativePattern:u}=t,d=u==="prefixFirst"?s:c+s,m=$(Object.assign(Object.assign({},H(i,t)),{minus:""}),t),h=i.length-m.length;return{elementState:e.includes("delete")&&i.includes(c)&&o<d.length?{value:m,selection:[Math.max(o-h,d.length-1),Math.max(a-h,d.length-1)]}:r}}}function da(t){let{thousandSeparator:r}=t,e=n=>{let o=V(r);return n.replace(new RegExp(`^(\\D+)?[0${o}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${o}]+(?=[1-9])`),"$1")},i=(n,o)=>{let a=n.slice(0,o),s=n.slice(o).startsWith("0");return a.length-e(a).length+(s?1:0)};return({value:n,selection:o})=>{let[a,s]=o,c=H(n,t),{integerPart:u}=c,d=dt(c,["integerPart"]),m=e(u);if(u===m)return{value:n,selection:o};let h=a-i(n,a),x=s-i(n,s);return{value:$(Object.assign(Object.assign({},d),{integerPart:m}),t),selection:[Math.max(h,0),Math.max(x,0)]}}}function pa({min:t,max:r,decimalSeparator:e,minusSign:i}){return({value:n,selection:o})=>{let a=St(n,{decimalSeparator:e,minusSign:i}),s=a>0?Math.min(a,r):Math.max(a,t);if(a&&s!==a){let c=`${s}`.replace(".",e).replace(fi,i);return{value:c,selection:[c.length,c.length]}}return{value:n,selection:o}}}function ma({decimalSeparator:t,thousandSeparator:r,minimumFractionDigits:e}){return({elementState:i,data:n},o)=>{let{value:a,selection:s}=i,[c,u]=s,d=a.slice(c,u),m=e?[t,r]:[r],h=!!e&&c>a.indexOf(t)&&!!d.match(/^0+$/gi);return o!=="deleteBackward"&&o!=="deleteForward"||!m.includes(d)&&!h?{elementState:i,data:n}:{elementState:{value:a,selection:o==="deleteForward"?[u,u]:[c,c]},data:n}}}function fa(t){let{maximumFractionDigits:r,decimalSeparator:e}=t,i=new RegExp(`^\\D*${V(e)}`);return({elementState:n,data:o})=>{let{value:a,selection:s}=n,c=H(a,t),{prefix:u,postfix:d}=c,m=dt(c,["prefix","postfix"]),h=$(m,t),[x,T]=s,v=ee(x-u.length,0,h.length),G=ee(T-u.length,0,h.length);if(r<=0||h.slice(0,v).includes(e)||h.slice(G).includes(e)||!o.match(i))return{elementState:n,data:o};let N=/\d+/.exec(h.slice(0,v));return{elementState:n,data:N?o:`0${o}`}}}function ha({prefix:t,minusSign:r,negativePattern:e}){return({value:i,selection:n},o)=>ea(i.includes(r)&&e==="minusFirst"?r+t:t)({value:i,selection:n},o)}function xr(t){var{validCharacter:r,pseudoCharacters:e}=t,i=dt(t,["validCharacter","pseudoCharacters"]);let n=new RegExp(`[${e.join("")}]`,"gi");return({elementState:o,data:a})=>{let{value:s,selection:c}=o,u=H(s,i),{prefix:d,postfix:m}=u,h=dt(u,["prefix","postfix"]),x=$(h,i).replace(n,r);return{elementState:{selection:c,value:$(Object.assign(Object.assign({},H(x,i)),{prefix:d,postfix:m}),i)},data:a.replace(n,r)}}}function ga(t){let{decimalSeparator:r}=t;return r?({elementState:e,data:i})=>{let{value:n,selection:o}=e,[a,s]=o;return{elementState:e,data:!H(n,t).decimalSeparator||n.slice(a,s+1).includes(r)?i:i.replaceAll(new RegExp(V(r),"gi"),"")}}:Vt}function va(t){let{thousandSeparator:r}=t;if(!r)return Vt;let e=(...i)=>i.every(n=>/\s/.test(n));return({value:i,selection:n})=>{let[o,a]=n,[s,c]=n,{prefix:u,minus:d,integerPart:m,decimalSeparator:h,decimalPart:x,postfix:T}=H(i,t),v=$({minus:d,integerPart:m,decimalSeparator:h,decimalPart:x},t).length-(d+m+(h?h+x:"")).length;v>0&&o&&o<=v&&(s-=v),v>0&&a&&a<=v&&(c-=v);let G=Array.from(m).reduceRight((N,pt,yt)=>{let Ot=!(!yt&&pt===r)&&!!N.length&&(N.length+1)%4===0,Dt=pt===r||e(pt,r);return Ot&&Dt?r+N:!Ot&&Dt?(s&&yt<=o&&s--,c&&yt<=a&&c--,N):Ot?(yt<o&&s++,yt<a&&c++,pt+r+N):pt+N},"");return{value:$({prefix:u,minus:d,integerPart:G,decimalSeparator:h,decimalPart:x,postfix:T},t),selection:[s,c]}}}function ba(t){let{maximumFractionDigits:r,decimalSeparator:e}=t;if(r>0||!e)return Vt;let i=new RegExp(`${V(e)}.*$`,"g");return({elementState:n,data:o})=>{let{value:a,selection:s}=n,c=H(a,t),{prefix:u,postfix:d}=c,m=dt(c,["prefix","postfix"]),[h,x]=s,T=$(m,t).replace(i,""),v=$(Object.assign(Object.assign({},H(T,t)),{prefix:u,postfix:d}),t);return{elementState:{selection:[Math.min(h,v.length),Math.min(x,v.length)],value:v},data:o.replace(i,"")}}}var Tr=[0,0];function _a(t){let r=da(t);return hi("blur",e=>{let i=r({value:e.value,selection:Tr},{value:"",selection:Tr}).value;te(e,i)},{capture:!0})}function ya({min:t,max:r,decimalSeparator:e,minusSign:i}){return hi("blur",(n,o)=>{let a=St(n.value,{decimalSeparator:e,minusSign:i}),s=ee(a,t,r);!Number.isNaN(a)&&a!==s&&te(n,Ct(ra(s),o))},{capture:!0})}function xa(t){let{decimalSeparator:r}=t;return r?hi("blur",e=>{let i=H(e.value,t),{prefix:n,postfix:o}=i,a=dt(i,["prefix","postfix"]),s=$(a,t).replace(new RegExp(`^(\\D+)?${V(r)}`),`$10${r}`),c=$(Object.assign(Object.assign({},H(s,t)),{prefix:n,postfix:o}),t);te(e,c)},{capture:!0}):qo}function gi({max:t=Number.MAX_SAFE_INTEGER,min:r=Number.MIN_SAFE_INTEGER,precision:e=0,thousandSeparator:i=mi,decimalSeparator:n=".",decimalPseudoSeparators:o,decimalZeroPadding:a=!1,prefix:s="",postfix:c="",minusSign:u=Cr,minusPseudoSigns:d=Sr.filter(T=>T!==i&&T!==n&&T!==u),maximumFractionDigits:m=e,minimumFractionDigits:h=a?m:0,negativePattern:x="prefixFirst"}={}){let T=oa({decimalSeparator:n,thousandSeparator:i,decimalPseudoSeparators:o}),v={max:t,min:r,precision:e,thousandSeparator:i,postfix:c,minusSign:u,minusPseudoSigns:d,maximumFractionDigits:m,decimalPseudoSeparators:T,negativePattern:x,decimalZeroPadding:a,decimalSeparator:m<=0&&n===i?"":n,prefix:s.endsWith(n)&&m>0?`${s}${Wo}`:s,minimumFractionDigits:Math.min(h,m)};return Object.assign(Object.assign({},Jt),{mask:Or(v),preprocessors:[Jo(),ua(v),aa(v),xr(Object.assign(Object.assign({},v),{validCharacter:u,pseudoCharacters:d})),xr(Object.assign(Object.assign({},v),{validCharacter:n,pseudoCharacters:T})),fa(v),ma(v),ba(v),ga(v),la(v)],postprocessors:[pa(v),ha(v),ta(c),va(v),sa(v),ca(v)],plugins:[_a(v),xa(v),ya(v)],overwriteMode:h>0?({value:G,selection:[N]})=>N<=G.indexOf(n)?"shift":"replace":"shift"})}function Dr(t){return un(Be,"options",t)}var Ta=["tuiInputNumber",""];function Ca(t,r){if(t&1){let e=Q();g(0,"section",2)(1,"button",3),E("click.prevent",function(){I(e);let n=_(2);return M(n.onStep(n.step()))})("mousedown.prevent",function(){I(e);let n=_(2);return M(n.element.focus())}),y(2," + "),f(),g(3,"button",3),E("click.prevent",function(){I(e);let n=_(2);return M(n.onStep(-n.step()))})("mousedown.prevent",function(){I(e);let n=_(2);return M(n.element.focus())}),y(4," - "),f()()}if(t&2){let e=_(2);p(),b("appearance",e.textfieldOptions.appearance())("disabled",!e.interactive()||e.value()>=e.max())("iconStart",e.options.icons.increase),p(2),b("appearance",e.textfieldOptions.appearance())("disabled",!e.interactive()||e.value()<=e.min())("iconStart",e.options.icons.decrease)}}function Sa(t,r){if(t&1&&(R(0),C(1,Ca,5,6,"section",1),F()),t&2){let e=_();p(),b("ngIf",e.step())}}var wa={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[Pr,Ml]=Pn(wa),ka=18,Le=(()=>{class t extends Pe{constructor(){super(...arguments),this.isIOS=l(De),this.numberFormat=bt(l(Se),{initialValue:Ce}),this.precision=it(()=>Number.isNaN(this.numberFormat().precision)?2:this.numberFormat().precision),this.isIntermediateState=it(()=>{let e=St(this.textfieldValue(),this.numberFormat().decimalSeparator);return e<0?e>this.max():e<this.min()}),this.onChangeEffect=At(()=>{let e=St(this.textfieldValue(),this.numberFormat().decimalSeparator);if(Number.isNaN(e)){this.onChange(null);return}this.isIntermediateState()||e<this.min()||e>this.max()||this.value()===e||this.onChange(e)},rn),this.options=l(Pr),this.min=S(this.options.min),this.max=S(this.options.max),this.step=S(this.options.step),this.prefix=S(this.options.prefix),this.postfix=S(this.options.postfix),this.textfieldOptions=l(Lt),this.element=j(),this.textfieldValue=pn(),this.inputMode=it(()=>this.isIOS&&this.min()<0?"text":this.precision()?"decimal":"numeric"),this.maxLength=it(()=>{let{decimalSeparator:e,thousandSeparator:i}=this.numberFormat(),o=!!this.precision()&&this.textfieldValue().includes(e)?Math.min(this.precision()+1,20):0,a=i.repeat(5).length;return ka+o+a}),this.mask=Dr(it((n=this.numberFormat())=>{var o=n,{decimalMode:e}=o,i=We(o,["decimalMode"]);return this.computeMask(tt(L({},i),{precision:this.precision(),min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),decimalZeroPadding:e==="always"}))}))}set minSetter(e){this.updateMinMaxLimits(e,this.max())}set maxSetter(e){this.updateMinMaxLimits(this.min(),e)}set prefixSetter(e){this.prefix.set(e)}set postfixSetter(e){this.postfix.set(e)}set stepSetter(e){this.step.set(e)}writeValue(e){super.writeValue(Number.isNaN(e)?null:e),this.textfieldValue.set(this.formatNumber(this.value()))}onBlur(){this.onTouched(),this.isIntermediateState()||this.textfieldValue.set(this.formatNumber(this.value()))}onFocus(){let e=St(this.textfieldValue(),this.numberFormat().decimalSeparator);Number.isNaN(e)&&!this.readOnly()&&this.textfieldValue.set(this.prefix()+this.postfix())}onStep(e){this.textfieldValue.set(this.formatNumber(tn((this.value()??0)+e,this.min(),this.max())))}formatNumber(e){return e===null||Number.isNaN(e)?"":this.prefix()+Ie(e,tt(L({},this.numberFormat()),{precision:en(e,this.precision())?this.precision():1/0})).replace(_e,an)+this.postfix()}updateMinMaxLimits(e,i){let n=this.transformer?.fromControlValue(e)??e??this.options.min,o=this.transformer?.fromControlValue(i)??i??this.options.max;this.min.set(Math.min(n,o)),this.max.set(Math.max(n,o))}computeMask(e){let{prefix:i="",postfix:n=""}=e,c=gi(e),{plugins:o}=c,a=We(c,["plugins"]),s=ar(gi(tt(L({},e),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return tt(L({},a),{plugins:[...o,s,kr(u=>[i.length,u.length-n.length])]})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=se(t)))(n||t)}})()}static{this.\u0275cmp=w({type:t,selectors:[["input","tuiInputNumber",""]],hostVars:5,hostBindings:function(i,n){i&1&&E("input",function(){return n.textfieldValue.set(n.element.value)})("blur",function(){return n.onBlur()})("focus",function(){return n.onFocus()})("keydown.arrowDown",function(){return n.onStep(-n.step())})("keydown.arrowUp",function(){return n.onStep(n.step())}),i&2&&(pe("disabled",n.disabled()),K("inputMode",n.inputMode())("maxLength",n.maxLength()),U("_with-buttons",n.step()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"],stepSetter:[0,"step","stepSetter"]},features:[z([Fn(t),Mn(null),Rn(Pr)]),et([qn,Be]),$t],attrs:Ta,decls:1,vars:0,consts:[[4,"tuiTextfieldContent"],["class","t-input-number-buttons",4,"ngIf"],[1,"t-input-number-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(i,n){i&1&&C(0,Sa,2,1,"ng-container",0)},dependencies:[st,ct,Kn],styles:[`.t-input-number-buttons.t-input-number-buttons{position:absolute;right:0;display:flex;block-size:var(--t-height);flex-direction:column;gap:.125rem;border-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons{flex-direction:row-reverse}.t-input-number-buttons.t-input-number-buttons>*{flex:1 1 0;border-radius:0}.t-input-number-buttons.t-input-number-buttons>*:first-child{border-start-end-radius:inherit}.t-input-number-buttons.t-input-number-buttons>*:last-child{border-end-end-radius:inherit}tui-textfield[data-size=l] .t-input-number-buttons.t-input-number-buttons>*{inline-size:var(--tui-height-m)}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:first-child{border-start-end-radius:inherit;border-end-end-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:last-child{border-radius:0}[tuiInputNumber]._with-buttons{border-start-end-radius:0;border-end-end-radius:0}tui-textfield[data-size=l]{--t-input-number-offset-end: calc(var(--tui-height-m) + .125rem)}tui-textfield[data-size=m]{--t-input-number-offset-end: calc(var(--tui-height-s) + .125rem)}tui-textfield[data-size=s]{--t-input-number-offset-end: calc(2 * var(--tui-height-s) + .25rem)}[tuiInputNumber]._with-buttons,[tuiInputNumber]._with-buttons~.t-template{inline-size:calc(100% - var(--t-input-number-offset-end))}[tuiInputNumber]._with-buttons~.t-content{margin-inline-end:var(--t-input-number-offset-end)}
`],encapsulation:2,changeDetection:0})}}return t})();var Er={color:null,size:"m"},Oa=P(Er);function Ir(t){return q(Oa,t,Er)}var Mr=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 92.83 122.88"><title>kazakhstani-tenge</title><path d="M92.83,39.49c0,6.69-1.21,10-3.68,10H58.78v69.4c0,1.51-1.05,2.53-3.23,3.11a39.21,39.21,0,0,1-9.12.83,35.34,35.34,0,0,1-9.25-.9c-2.08-.57-3.13-1.6-3.13-3V49.54H3.68c-2.46,0-3.68-3.36-3.68-10a24.38,24.38,0,0,1,.9-7.71c.6-1.6,1.53-2.4,2.78-2.4H89.15c1.31,0,2.27.8,2.82,2.43a25.12,25.12,0,0,1,.86,7.68ZM3.68,20.16C1.22,20.16,0,16.8,0,10.11A24,24,0,0,1,.9,2.4C1.49.8,2.43,0,3.68,0H89.15C90.46,0,91.41.81,92,2.43a25.49,25.49,0,0,1,.86,7.68c0,6.69-1.22,10.05-3.68,10.05Z"/></svg>')}
`;var ie=class t{fb=l(Xi);alertService=l(An);context=ke();data=this.context.data;kztSvgIcon=Mr;form=this.fb.group({title:["",Ke.required],cost_price:this.fb.control(null,Ke.required),competitors_price:this.fb.control(null),my_cost:this.fb.control(null)});constructor(){this.initFormValues()}initFormValues(){let r=this.data;r&&this.form.patchValue(r)}addOne(){if(this.form.invalid){this.showAlert("\u0417\u0430\u043F\u043E\u043B\u043D\u0438 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F");return}this.context.completeWith(L(L({},this.data),this.form.getRawValue()))}showAlert(r){this.alertService.open(r,{icon:"@tui.circle-x",appearance:"negative"}).subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["ng-component"]],decls:19,vars:3,consts:[[1,"add-one",3,"formGroup"],["tuiLabel",""],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","tuiTextfield","","formControlName","title"],["iconStart","japanese-yen"],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u0446\u0438\u0444\u0440\u0443 \u0432 \u044E\u0430\u043D\u044F\u0445","tuiInputNumber","","formControlName","cost_price"],["iconStart","russian-ruble"],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u0446\u0438\u0444\u0440\u0443 \u0432 \u0440\u0443\u0431\u043B\u044F\u0445","tuiInputNumber","","formControlName","competitors_price"],[3,"iconStart"],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u0446\u0438\u0444\u0440\u0443 \u0432 \u0442\u0435\u043D\u0433\u0435","tuiInputNumber","","formControlName","my_cost"],["size","m","tuiButton","","appearance","primary","type","submit",3,"click"]],template:function(e,i){e&1&&(g(0,"form",0)(1,"tui-textfield")(2,"label",1),y(3,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),f(),W(4,"input",2),f(),g(5,"tui-textfield",3)(6,"label",1),y(7,"\u0421\u0435\u0431\u0435\u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C"),f(),W(8,"input",4),f(),g(9,"tui-textfield",5)(10,"label",1),y(11,"\u0426\u0435\u043D\u0430 \u043A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u0430"),f(),W(12,"input",6),f(),g(13,"tui-textfield",7)(14,"label",1),y(15,"\u041C\u043E\u044F \u0446\u0435\u043D\u0430"),f(),W(16,"input",8),f(),g(17,"button",9),E("click",function(){return i.addOne()}),y(18),f()()),e&2&&(b("formGroup",i.form),p(13),b("iconStart",i.kztSvgIcon),p(5),D(" ",i.data?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0442\u043E\u0432\u0430\u0440":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440"," "))},dependencies:[_t,Bt,Zt,be,Yi,Nt,ve,Qi,qi,Ki,Le,ct],styles:[".add-one[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}"]})};function Pa(t,r){t&1&&y(0),t&2&&D(" ",r," ")}function Ea(t,r){if(t&1){let e=Q();g(0,"button",4),E("click",function(){I(e);let n=_();return M(n.onSecondaryButtonClick())}),y(1),f()}t&2&&(p(),D(" ",r," "))}function Ia(t,r){if(t&1){let e=Q();g(0,"button",5),E("click",function(){I(e);let n=_();return M(n.onPrimaryButtonClick())}),y(1),f()}t&2&&(p(),D(" ",r," "))}var Ve=class t{context=ke();onPrimaryButtonClick(){this.context.completeWith(!0)}onSecondaryButtonClick(){this.context.completeWith(!1)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["main-ui-confirmation-dialog"]],decls:5,vars:3,consts:[[2,"display","flex","flex-direction","column","gap","24px","padding-top","24px"],[2,"display","flex","place-content","flex-end","gap","16px"],["tuiButton","","type","button","appearance","flat"],["tuiButton","","type","button","appearance","accent"],["tuiButton","","type","button","appearance","flat",3,"click"],["tuiButton","","type","button","appearance","accent",3,"click"]],template:function(e,i){if(e&1&&(g(0,"div",0),C(1,Pa,1,1),g(2,"div",1),C(3,Ea,2,1,"button",2)(4,Ia,2,1,"button",3),f()()),e&2){let n,o,a;p(),le((n=i.context.data==null?null:i.context.data.content)?1:-1,n),p(2),le((o=i.context.data==null?null:i.context.data.secondaryButtonText)?3:-1,o),p(),le((a=i.context.data==null?null:i.context.data.primaryButtonText)?4:-1,a)}},dependencies:[ct],encapsulation:2})};var ne=class t{injector=l(Ni);dialogs=l(Hn);openAddDialog(){return this.dialogs.open(new Oe(ie,this.injector),{label:"\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430",size:"s",dismissible:!1}).pipe(Ht(Boolean))}openEditDialog(r){return this.dialogs.open(new Oe(ie,this.injector),{data:r,label:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430",size:"s",dismissible:!1}).pipe(Ht(Boolean))}openDeleteDialog(r){return this.dialogs.open(new Oe(Ve,this.injector),{label:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F",size:"s",dismissible:!1,data:{content:`\u0423\u0432\u0435\u0440\u0435\u043D \u0447\u0442\u043E \u0445\u043E\u0447\u0435\u0448\u044C \u0443\u0434\u0430\u043B\u0438\u0442\u044C \xAB${r}\xBB?`,primaryButtonText:"\u0411\u0430\u0437\u0430\u0440",secondaryButtonText:"\u041D\u0435, \u044D\u0442\u043E \u044F \u0437\u0440\u044F \u0431\u044B\u043A\u0430\u043D\u0443\u043B"}}).pipe(Ht(Boolean))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=mt({token:t,factory:t.\u0275fac})};var bi=["*"],Ma=["tuiTh",""];function za(t,r){if(t&1){let e=Q();g(0,"button",3),E("click",function(){I(e);let n=_();return M(n.updateSorterAndDirection())}),de(1,4),y(2),O(3,"async"),W(4,"tui-icon",5),f()}if(t&2){let e=_(),i=zt(2);U("t-sort_sorted",e.isCurrent),p(),b("ngTemplateOutlet",i),p(),D(" ",A(3,5,e.table&&e.table.change$)," "),p(2),b("icon",e.icon)}}function Aa(t,r){t&1&&J(0)}function Na(t,r){if(t&1){let e=Q();g(0,"div",6),E("tuiResized",function(n){I(e);let o=_();return M(o.onResized(n))}),f()}}var Ra=["tuiTd",""],Fa=["tuiTr",""];function Ba(t,r){if(t&1&&(g(0,"td",6),y(1),f()),t&2){let e=r.ngIf,i=_(2).$implicit;p(),D(" ",e[i]," ")}}function La(t,r){if(t&1&&(C(0,Ba,2,1,"td",5),O(1,"async")),t&2){let e=_(3);b("ngIf",A(1,1,e.item$))}}function Va(t,r){if(t&1&&(R(0,4),C(1,La,2,3,"ng-template",null,1,Wt),F()),t&2){let e=r.$implicit,i=zt(2),n=_().ngIf;b("ngTemplateOutlet",n[e]&&n[e].template||i)}}function ja(t,r){if(t&1&&(R(0),C(1,Va,3,1,"ng-container",3),F()),t&2){let e=_();p(),b("ngForOf",e.table.columns)}}function Ha(t,r){t&1&&W(0,"td")}var $a=["tuiTbody",""];function Ua(t,r){if(t&1&&(R(0),y(1),F()),t&2){let e=r.polymorpheusOutlet;p(),D(" ",e," ")}}function Wa(t,r){if(t&1){let e=Q();g(0,"tr")(1,"th",1)(2,"button",2),E("click",function(){I(e);let n=_();return M(n.onClick())}),g(3,"span",3),C(4,Ua,2,1,"ng-container",4),f(),W(5,"tui-icon",5),f()()()}if(t&2){let e=_();p(),b("colSpan",e.table.columns.length),p(3),b("polymorpheusOutlet",e.heading),p(),b("tuiChevron",e.open)}}function Ga(t,r){t&1&&(R(0),J(1),F())}var Qa=(()=>{class t{constructor(){this.tuiCell="",this.template=l(Mt)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:"tuiCell"}})}}return t})(),jt={Asc:1,Desc:-1},Za={sticky:!1,resizable:!1,open:!0,size:"m",direction:jt.Asc,requiredSort:!1,sortIcons:{asc:"@tui.chevron-up",desc:"@tui.chevron-down",off:"@tui.chevrons-up-down"}},_i=P(Za);var Ya=(()=>{class t{constructor(){this.stuck=bt(l(si).pipe(ot(e=>(e[e.length-1]?.intersectionRatio??0)<1),ae(),ei(),Ii(()=>Di)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["never"]],hostVars:2,hostBindings:function(i,n){i&2&&U("_stuck",n.stuck())},features:[z([si,{provide:ai,useValue:[0,1]}])]})}}return t})(),qa=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-table"],decls:0,vars:0,template:function(i,n){},styles:[`table[tuiTable]{border-collapse:separate;border-spacing:0}table[tuiTable] [tuiCell]{padding:0}table[tuiTable] [tuiTitle]{white-space:nowrap}table[tuiTable] [tuiTitle] tui-icon{font-size:1rem}table[tuiTable] [tuiSubtitle]{color:var(--tui-text-secondary)}table[tuiTable] [tuiTh] [tuiCell],table[tuiTable] [tuiTh] [tuiTitle]{font:inherit;color:inherit}
`],encapsulation:2,changeDetection:0})}}return t})(),wt=(()=>{class t{constructor(){this.options=l(_i),this.cdr=l(Li),this.nothing=nt(qa),this.columns=[],this.direction=this.options.direction,this.directionChange=new ce,this.sorterChange=new ce,this.appearance=S("table"),this.size=S(this.options.size),this.cleaner=S(!1),this.change$=new ki,this.sorter=()=>0}set sizeSetter(e){this.size.set(e)}updateSorterAndDirection(e){this.sorter===e?this.updateDirection(this.direction===jt.Asc?jt.Desc:jt.Asc):(this.updateSorter(e),this.updateDirection(1))}ngOnChanges(){this.change$.next()}ngAfterViewInit(){this.cdr.detectChanges()}updateSorter(e){this.sorter=e||(()=>0),this.sorterChange.emit(this.sorter),this.change$.next()}updateDirection(e){this.direction=e,this.directionChange.emit(this.direction),this.change$.next()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["table","tuiTable",""]],hostVars:1,hostBindings:function(i,n){i&2&&K("data-size",n.size())},inputs:{columns:"columns",direction:"direction",sizeSetter:[0,"size","sizeSetter"],sorter:"sorter"},outputs:{directionChange:"directionChange",sorterChange:"sorterChange"},features:[z([{provide:oi,useValue:"10000px 10000px 10000px 0px"},lt(Lt,t),Rt({size:"s"}),dr({size:"m",appearance:"neutral"}),vr({size:"xxs",appearance:"neutral"}),Ir({size:"s",color:"var(--tui-text-action)"})]),et([Ya]),It]})}}return t})();var Ka=(()=>{class t{constructor(){this.tuiHead="",this.template=l(Mt)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["","tuiHead",""]],inputs:{tuiHead:"tuiHead"}})}}return t})(),Xa=(()=>{class t{constructor(){this.doc=l(ji),this.el=j(),this.tuiResized=xe(this.el,"mousedown").pipe(xn(),Et(()=>{let{width:e,right:i}=this.el.closest("th")?.getBoundingClientRect()||on;return xe(this.doc,"mousemove").pipe(ae(),ot(({clientX:n})=>e+n-i),zi(xe(this.doc,"mouseup")))}))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=k({type:t,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"}})}}return t})(),Ar=(()=>{class t{constructor(){this.options=l(_i),this.head=l(Ka,{optional:!0}),this.width=null,this.table=l(xt(()=>wt),{optional:!0}),this.sorter=this.head?(e,i)=>cn(e[this.key],i[this.key]):null,this.resizable=this.options.resizable,this.sticky=this.options.sticky,this.requiredSort=this.options.requiredSort}get key(){if(!this.head)throw new vi;return this.head.tuiHead}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter===this.table.sorter}get icon(){return this.isCurrent?this.table?.direction===jt.Asc?this.options.sortIcons.asc:this.options.sortIcons.desc:this.options.sortIcons.off}updateSorterAndDirection(){let e=this.requiredSort?this.sorter:null;this.table?.updateSorterAndDirection(this.isCurrentAndDescDirection?e:this.sorter)}onResized(e){this.width=e}get isCurrentAndDescDirection(){return this.sorter===this.table?.sorter&&this.table?.direction===jt.Desc}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["th","tuiTh",""]],hostVars:8,hostBindings:function(i,n){i&2&&(Ut("min-width",n.width,"px")("width",n.width,"px")("max-width",n.width,"px"),U("_sticky",n.sticky))},inputs:{sorter:"sorter",resizable:"resizable",sticky:"sticky",requiredSort:"requiredSort"},attrs:Ma,ngContentSelectors:bi,decls:4,vars:3,consts:[["content",""],["type","button","class","t-sort",3,"t-sort_sorted","click",4,"ngIf","ngIfElse"],["class","t-bar",3,"tuiResized",4,"ngIf"],["type","button",1,"t-sort",3,"click"],[3,"ngTemplateOutlet"],[1,"t-icon",3,"icon"],[1,"t-bar",3,"tuiResized"]],template:function(i,n){if(i&1&&(ht(),C(0,za,5,7,"button",1)(1,Aa,1,0,"ng-template",null,0,Wt)(3,Na,1,0,"div",2)),i&2){let o=zt(2);b("ngIf",n.sorter&&n.table)("ngIfElse",o),p(3),b("ngIf",n.resizable)}},dependencies:[Gt,st,qe,ii,Xa],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;block-size:var(--tui-height-m);font:var(--tui-font-text-s);text-align:start;font-weight:700;color:var(--tui-text-secondary);background:var(--tui-background-base);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-border-normal);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:sticky;z-index:30}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}._stuck   [_nghost-%COMP%]{z-index:20}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-block-start:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:700;padding:0 1rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);font-weight:700;padding:0 .5rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}[tuiTheme="dark"]._sticky[_nghost-%COMP%]:after, [tuiTheme="dark"]   ._sticky[_nghost-%COMP%]:after{background:#3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%], [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:inline-flex;flex-direction:inherit;align-items:center;outline:none;font:inherit;text-transform:inherit;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-service-selection-background)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;inline-size:3px;justify-self:flex-end;border-inline-start:2px solid transparent;background:var(--tui-status-warning);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}.t-icon[_ngcontent-%COMP%]{border-width:.25rem}'],changeDetection:0})}}return t})(),vi=class extends Error{constructor(){super("")}};var Nr=[{provide:wt,deps:[[new Qe,wt]],useFactory:t=>(t.change$.pipe(ei(),sn()).subscribe(),t)}],yi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(i,n,o){if(i&1&&(X(o,Pe,5),X(o,_t,5)),i&2){let a;Z(a=Y())&&(n.control=a.first),Z(a=Y())&&(n.textfield=a.first)}},hostVars:2,hostBindings:function(i,n){i&2&&U("_editable",n.control||n.textfield)},attrs:Ra,ngContentSelectors:bi,decls:1,vars:0,template:function(i,n){i&1&&(ht(),J(0))},styles:['[_nghost-%COMP%]{position:relative;text-align:start;background:var(--tui-background-base);border:1px solid var(--tui-border-normal);border-block-start:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._editable[_nghost-%COMP%]:focus-within{z-index:1}._editable[_nghost-%COMP%]{padding:0!important;vertical-align:top}th[_nghost-%COMP%]{position:sticky;z-index:1}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:11}[tuiTheme="dark"][_nghost-%COMP%]:after, [tuiTheme="dark"]   [_nghost-%COMP%]:after{background:#3c3c3ce6}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:10}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);padding:1rem}table[data-size="m"][_nghost-%COMP%], table[data-size="m"]   [_nghost-%COMP%]{block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:.75rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);padding:.25rem .5rem}td[_nghost-%COMP%]:focus-within{z-index:1}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0})}}return t})(),Ja=(()=>{class t{constructor(){this.cells=Je,this.body=l(xt(()=>xi)),this.contentReady$=new Oi(1),this.table=l(xt(()=>wt)),this.height=bt(l(Qt,{self:!0}).pipe(ot(([e])=>e?.contentRect.height??0),ae(),Sn()),{initialValue:0}),this.cells$=this.contentReady$.pipe(Et(()=>ti(this.cells)),ot(e=>e.reduce((i,n)=>tt(L({},i),{[n.tuiCell]:n}),{}))),this.item$=this.contentReady$.pipe(Et(()=>ti(this.body.rows)),ot(e=>this.body.data[e.findIndex(i=>i===this)]))}ngAfterContentInit(){return Pt(this,null,function*(){yield Promise.resolve(),this.contentReady$.next(!0)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["tr","tuiTr",""]],contentQueries:function(i,n,o){if(i&1&&X(o,Qa,4),i&2){let a;Z(a=Y())&&(n.cells=a)}},hostVars:2,hostBindings:function(i,n){i&2&&Ut("--t-row-height",n.height(),"px")},features:[z([Nr,Qt])],attrs:Fa,decls:4,vars:4,consts:[["dummy",""],["plain",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["tuiTd","",4,"ngIf"],["tuiTd",""]],template:function(i,n){if(i&1&&(C(0,ja,2,1,"ng-container",2),O(1,"async"),C(2,Ha,1,0,"ng-template",null,0,Wt)),i&2){let o=zt(3);b("ngIf",A(1,2,n.cells$))("ngIfElse",o)}},dependencies:[Gt,ge,st,qe,yi],encapsulation:2,changeDetection:0})}}return t})(),xi=(()=>{class t{constructor(){this.options=l(_i),this.table=l(xt(()=>wt)),this.rows=Je,this.data=[],this.open=this.options.open,this.openChange=new ce}onClick(){this.open=!this.open,this.openChange.emit(this.open)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["tbody","tuiTbody",""]],contentQueries:function(i,n,o){if(i&1&&X(o,Ja,4),i&2){let a;Z(a=Y())&&(n.rows=a)}},inputs:{data:"data",heading:"heading",open:"open"},outputs:{openChange:"openChange"},features:[z(Nr)],attrs:$a,ngContentSelectors:bi,decls:2,vars:2,consts:[[4,"ngIf"],[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"tuiChevron"]],template:function(i,n){i&1&&(ht(),C(0,Wa,6,3,"tr",0)(1,Ga,2,0,"ng-container",0)),i&2&&(b("ngIf",n.heading),p(),b("ngIf",n.open))},dependencies:[st,Ft,Xn,ii],styles:['[_nghost-%COMP%]{border-color:var(--tui-border-normal)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:flex;inline-size:100%;block-size:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:700;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:sticky;block-size:100%;border-inline-start:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:0;background:var(--tui-background-neutral-1);border-block-end:1px solid var(--tui-border-normal);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-background-neutral-1-hover)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);block-size:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{position:sticky;right:.75rem;margin:0 .6875rem 0 auto}'],changeDetection:0})}}return t})();var je=class t{transform(r){return[...r].sort((e,i)=>e.id-i.id)}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Tt({name:"sortById",type:t,pure:!0})};var kt=()=>({precision:0});function ts(t,r){if(t&1){let e=Q();g(0,"th",14)(1,"div"),y(2),f(),g(3,"div")(4,"button",15),E("click",function(){let n=I(e).$implicit,o=_();return M(o.editOne(n))}),y(5,"\u0420\u0435\u0434."),f(),g(6,"button",16),E("click",function(){let n=I(e).$implicit,o=_();return M(o.deleteOne(n))}),y(7,"\u0423\u0434\u0430\u043B."),f()()()}if(t&2){let e=r.$implicit;p(2),Ze(e.title)}}function es(t,r){if(t&1&&(R(0),g(1,"div",23)(2,"tui-chip",24),y(3),O(4,"tuiFormatNumber"),O(5,"async"),f(),g(6,"tui-chip",25),y(7),O(8,"tuiFormatNumber"),O(9,"async"),f(),g(10,"tui-chip",26),y(11),O(12,"tuiFormatNumber"),O(13,"async"),f()(),F()),t&2){let e=_().$implicit,i=_(2);p(3),D(" ",A(5,5,A(4,3,e.cost_price))," CNY "),p(4),D(" ",A(9,10,vt(8,7,i.computeCostPriceUpd(e),gt(17,kt)))," KZT "),p(4),D(" ",A(13,15,vt(12,12,i.computeCostPriceUpd(e)/i.kztCurrency,gt(18,kt)))," RUB ")}}function is(t,r){if(t&1&&(R(0),g(1,"div",23)(2,"tui-chip",25),y(3),O(4,"tuiFormatNumber"),O(5,"async"),f(),g(6,"tui-chip",26),y(7),O(8,"tuiFormatNumber"),O(9,"async"),f()(),F()),t&2){let e=_().$implicit,i=_(2);p(3),D(" ",A(5,5,vt(4,2,e.competitors_price*i.kztCurrency,gt(11,kt)))," KZT "),p(4),D(" ",A(9,9,A(8,7,e.competitors_price))," RUB ")}}function ns(t,r){if(t&1&&(R(0),g(1,"div",23)(2,"tui-chip",25),y(3),O(4,"tuiFormatNumber"),O(5,"async"),f(),g(6,"tui-chip",26),y(7),O(8,"tuiFormatNumber"),O(9,"async"),f()(),F()),t&2){let e=_().$implicit,i=_(2);p(3),D(" ",A(5,5,vt(4,2,e.my_cost,gt(12,kt)))," KZT "),p(4),D(" ",A(9,10,vt(8,7,e.my_cost/i.kztCurrency,gt(13,kt)))," RUB ")}}function rs(t,r){if(t&1&&(R(0),g(1,"div",23)(2,"tui-chip",25),y(3),O(4,"tuiFormatNumber"),O(5,"async"),f(),g(6,"tui-chip",26),y(7),O(8,"tuiFormatNumber"),O(9,"async"),f()(),F()),t&2){let e=_().$implicit,i=_(2);p(3),D(" ",A(5,5,vt(4,2,i.computeResult(e),gt(12,kt)))," KZT "),p(4),D(" ",A(9,10,vt(8,7,i.computeResult(e)/i.kztCurrency,gt(13,kt)))," RUB ")}}function os(t,r){t&1&&(R(0),y(1," \u2014 "),F())}function as(t,r){if(t&1&&(g(0,"td",19),R(1,20),C(2,es,14,19,"ng-container",21)(3,is,10,12,"ng-container",21)(4,ns,10,14,"ng-container",21)(5,rs,10,14,"ng-container",21)(6,os,2,0,"ng-container",22),F(),f()),t&2){let e=_().$implicit;p(),b("ngSwitch",e.key),p(),b("ngSwitchCase","cost_price"),p(),b("ngSwitchCase","competitors_price"),p(),b("ngSwitchCase","my_cost"),p(),b("ngSwitchCase","result")}}function ss(t,r){if(t&1&&(g(0,"tr")(1,"th",17),y(2),f(),C(3,as,7,5,"td",18),O(4,"sortById"),f()),t&2){let e=r.$implicit,i=_();p(2),Ze(e.label),p(),b("ngForOf",A(4,2,i.store()))}}var Rr=class t{api=l(ze);dialogService=l(ne);store=S([]);isLoading=S(!1);kztCurrency=6.6;uanCurrency=75;percent=15;constructor(){this.loadData()}fields=[{key:"cost_price",label:"\u0421\u0435\u0431\u0435\u0441"},{key:"competitors_price",label:"\u0411\u0430\u0440\u044B\u0433\u0430"},{key:"my_cost",label:"\u0426\u0435\u043D\u043D\u0438\u043A"},{key:"result",label:"\u041C\u0430\u0440\u0436\u0430"}];computeResult(r){let e=r.my_cost,i=this.computeCostPriceUpd(r);return e-i}computeCostPriceUpd(r){let e=(this.percent+100)/100;return r.cost_price*e*this.uanCurrency}loadData(){this.isLoading.set(!0),this.api.getAll().pipe(ut(r=>this.store.set(r)),ut(()=>this.isLoading.set(!1))).subscribe()}addOne(){this.dialogService.openAddDialog().pipe(ut(()=>this.isLoading.set(!0)),Ge(r=>this.api.addOne(r)),ut(r=>{this.isLoading.set(!1),this.add(r)})).subscribe()}editOne(r){this.dialogService.openEditDialog(r).pipe(ut(()=>this.isLoading.set(!0)),Ge(e=>this.api.updateOne(e)),ut(e=>{this.isLoading.set(!1),this.update(e)})).subscribe()}deleteOne({id:r,title:e}){this.dialogService.openDeleteDialog(e).pipe(ut(()=>this.isLoading.set(!0)),Mi(()=>this.api.deleteOne(r)),ut(()=>{this.isLoading.set(!1),this.delete(r)})).subscribe()}add(r){this.store.update(e=>[...e,r])}update(r){this.store.update(e=>e.map(i=>i.id===r.id?r:i))}delete(r){this.store.update(e=>e.filter(i=>i.id!==r))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-main"]],features:[z([ne])],decls:28,vars:13,consts:[[1,"main"],[1,"main__currency"],[2,"display","flex","gap","8px","width","100%"],[1,"main__currency-item"],["tuiLabel",""],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u043A\u0443\u0440\u0441","tuiInputNumber","",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438 \u043F\u0440\u043E\u0446\u0435\u043D\u0442","tuiInputNumber","",3,"ngModelChange","ngModel"],["size","xl",3,"overlay","showLoader"],["tuiTable","",1,"table"],["tuiTh","",3,"sticky"],["tuiTh","","style","text-align: center",4,"ngFor","ngForOf"],["tuiTbody","",3,"data"],[4,"ngFor","ngForOf"],["size","m","tuiButton","","appearance","primary","type","button",3,"click"],["tuiTh","",2,"text-align","center"],["tuiIconButton","","size","s","appearance","flat","iconStart","pencil",3,"click"],["tuiIconButton","","size","s","appearance","flat-destructive","iconStart","trash",3,"click"],["tuiTd",""],["tuiTd","","style","text-align:center;",4,"ngFor","ngForOf"],["tuiTd","",2,"text-align","center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"table__cell-item"],["size","s","appearance","outline"],["size","s","appearance","primary"],["size","s","appearance","secondary"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"tui-textfield",3)(4,"label",4),y(5,"CNY-KZT"),f(),g(6,"input",5),he("ngModelChange",function(o){return fe(i.uanCurrency,o)||(i.uanCurrency=o),o}),f()(),g(7,"tui-textfield",3)(8,"label",4),y(9,"RUB-KZT"),f(),g(10,"input",5),he("ngModelChange",function(o){return fe(i.kztCurrency,o)||(i.kztCurrency=o),o}),f()()(),g(11,"tui-textfield",3)(12,"label",4),y(13,"+% \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438"),f(),g(14,"input",6),he("ngModelChange",function(o){return fe(i.percent,o)||(i.percent=o),o}),f()()(),g(15,"tui-scrollbar")(16,"tui-loader",7)(17,"table",8)(18,"thead")(19,"tr"),W(20,"th",9),C(21,ts,8,1,"th",10),O(22,"sortById"),f()(),g(23,"tbody",11),O(24,"sortById"),C(25,ss,5,4,"tr",12),f()()()(),g(26,"button",13),E("click",function(){return i.addOne()}),y(27," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440 "),f()()),e&2&&(p(6),me("ngModel",i.uanCurrency),p(4),me("ngModel",i.kztCurrency),p(4),me("ngModel",i.percent),p(2),b("overlay",!0)("showLoader",i.isLoading()),p(4),b("sticky",!0),p(),b("ngForOf",A(22,9,i.store())),p(2),b("data",A(24,11,i.store())),p(2),b("ngForOf",i.fields))},dependencies:[ct,Gn,be,Nt,ve,Bt,_t,Ji,Zi,Nn,br,Un,Gt,$i,Hi,ge,Ui,Ar,yi,xi,wt,Le,je],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto;width:100%;height:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;overflow-x:hidden}.main__currency[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%;align-items:center}.main__currency-item[_ngcontent-%COMP%]{width:100%}.table__cell-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}"]})};export{Rr as MainComponent};
